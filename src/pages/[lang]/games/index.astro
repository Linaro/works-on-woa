---
import Search from "../../../components/Search/Search.astro";
import { LOCALES } from "../../../config/i18nConfig";
import BaseLayout from "../../../layouts/BaseLayout.astro";
import { updateLanguage } from "../../../util/updateLanguage";
import { TFunction } from "i18next";
import { getFixedT } from "../../../util/i18next";

export function getStaticPaths() {
  return LOCALES.map(locale => ({
    params: { lang: locale },
  }));
}

const locale = updateLanguage(Astro.url);
const t = await getFixedT(locale) as TFunction;
---

<BaseLayout
  title={t('header.games')}
  description={t('header.games_desc')}
  breadcrumbs={[{ title: t('bradcrumbs.games'), href: `/${locale}/games` }]}
>
  <Search shouldRedirect={false} type="games" />
</BaseLayout>
